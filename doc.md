## 関数型のメリット

- 関数を値として捉え、処理の部品化が行いやすい
- 参照透過性 = 予測がしやすい
  - 式の構成要素がすべて同じなら、式の値は常に同じ
- コードのモジュール性が高まる
- テスタビリティが高い

## 副作用との付き合い

副作用を許容すると、参照透過性を確保できなくなります。すべての副作用を除去したいですが、出力処理は必須です。

```mermaid
flowchart LR
  外界<-- 副作用 -->副作用のある関数
  副作用のある関数-- 呼び出せる -->純粋な関数
  純粋な関数-- 呼び出せない -->副作用のある関数
```

## DRY

同じことを繰り返さない

## 抽象化

物事の本質を抽出して、些末なことを隠す

## 参照透過性を破壊

関数が値を返す以外の作用を持つこと

### プログラムがネットワークにアクセスする

リクエスト, レスポンス

### プログラムがストレージにアクセスする

リード, ライト

### プログラムが画面にアクセスする

ユーザ入力, 画面出力

## カリー化

```ts
const fn =
  <T>(v: T) =>
  <R>(f: (v: T) => R) =>
    f(v);

// 部分適用
fn(1);
```

## モナド

参照透過性を維持したまま、副作用を扱う手法。
HoF を利用したデザインパターン

モナドとは、どのような HoF か

- 値にコンテキストを不可すること
- コンテキストを付加したまま処理を合成すること
